import{M as d,w as j,u as p}from"./musicStore-J3WrqYgq.js";import{a as c,o as e}from"./chunk-DQRVZFIR-BNfO-z-U.js";import{u as g}from"./currentPlayerStore-Dqkt8Cds.js";/* empty css             */const N=s=>{const i=Math.floor(s/60),t=s%60;return`${String(i).padStart(2,"0")}:${String(t).padStart(2,"0")}`},v=s=>`${s.toLocaleString()} Plays`,S=({details:s,onClick:i,isPlaying:t=!1,isActive:n=!1})=>{const[r,o]=c.useState(!1),[l,x]=c.useState(!1),m=()=>o(!0),u=()=>o(!1),h=()=>n?e.jsx(d,{iconName:"pause"}):e.jsx(d,{iconName:"play"});return e.jsxs("div",{className:`song-details ${r?"hover":""} ${n?"active":""}`,onMouseEnter:m,onMouseLeave:u,children:[e.jsxs("div",{className:"song-info",onClick:i,children:[e.jsx("div",{className:"cover-container",children:e.jsx("div",{className:"cover-image",style:{backgroundImage:`url(${s.imageSrc||"/art/imag_1.jpg"})`},children:(r||n)&&e.jsx("div",{className:"play-overlay",children:e.jsx("div",{className:"play-button",children:h()})})})}),e.jsxs("div",{className:"track-details",children:[e.jsx("div",{className:`track-title ${n?"active":""}`,children:s.title}),e.jsxs("div",{className:"track-metadata",children:[e.jsx("span",{className:"track-artist",children:s.artist}),e.jsx("span",{className:"separator",children:"â€¢"}),e.jsx("span",{className:"play-count",children:v(s.plays||0)})]})]})]}),e.jsxs("div",{className:"song-actions",children:[r&&e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn heart-btn",onClick:()=>{},children:e.jsx(d,{iconName:"heart"})}),e.jsx("button",{className:"action-btn menu-btn",onClick:()=>{},children:e.jsx(d,{iconName:"ellipsis"})}),e.jsx("div",{className:"checkbox-container",children:e.jsx("input",{type:"checkbox",className:"song-checkbox",checked:l,onChange:a=>x(a.target.checked)})})]}),!r&&e.jsx("div",{className:"duration",children:s.time?N(s.time):"00:00"})]})]})},M=j(function(){const{setSelectedSong:i,selectedSong:t}=g(),{recentlyPlayed:n}=p(),[r,o]=c.useState(!0),[l,x]=c.useState(null),[m,u]=c.useState(null);c.useEffect(()=>{const a=setTimeout(()=>{o(!1)},100);return()=>clearTimeout(a)},[]);const h=a=>{i(a),u(a.id||null)};return r?e.jsx("p",{children:"Loading..."}):l?e.jsxs("p",{children:["Error: ",l]}):e.jsxs("main",{className:"songs-page",children:[e.jsx("div",{className:"page-header",children:e.jsx("h1",{children:"Songs"})}),e.jsx("div",{className:"songs-list-container",children:e.jsx("div",{className:"songs-list",children:n.map(a=>e.jsx(S,{details:a,onClick:()=>h(a),isActive:m===a.id,isPlaying:(t==null?void 0:t.id)===a.id},a.id))})})]})});export{M as default};
