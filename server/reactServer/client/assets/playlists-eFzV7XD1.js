import{M as f,w as V,u as $}from"./musicStore-J3WrqYgq.js";import{o as e,a as x,s as E}from"./chunk-DQRVZFIR-BNfO-z-U.js";import{P as M}from"./PlaylistCover-bFKp-DqK.js";/* empty css             */const I=({onClick:n})=>e.jsx("button",{className:"create-playlist-card",onClick:n,children:e.jsxs("div",{className:"create-playlist-content",children:[e.jsx("div",{className:"plus-icon-container",children:e.jsx("div",{className:"plus-icon-circle",children:e.jsx(f,{iconName:"plus",className:"plus-icon"})})}),e.jsx("p",{className:"create-playlist-text",children:"Create New Playlist"})]})}),L=({playlists:n,onPlaylistClick:l,onCreatePlaylist:r})=>e.jsxs("div",{className:"playlist-grid",children:[e.jsx(I,{onClick:r}),n.map((a,o)=>{var i,c;return e.jsx(M,{albumImages:a.albumImages||[a.imageSrc||"/art/muza.png"],title:a.title||a.name,songsCount:((c=(i=a.songs)==null?void 0:i.length)==null?void 0:c.toString())||"0",userName:a.userName||a.author||"Unknown",onSelect:()=>l(a)},a.id||o)})]}),A=({label:n,required:l,name:r,type:a="text",placeholder:o,disabled:i,inputSize:c="medium",leadingIcon:u,trailingIcon:d,helperText:m="",validationRules:g=[],onChange:p,value:j,...v})=>{const[s,b]=x.useState(String(j??"")),[N,P]=x.useState(""),[y,k]=x.useState("default");x.useEffect(()=>{b(String(j??""))},[j]);const w=h=>{for(const t of g)switch(t.type){case"required":if(!h.trim())return{isValid:!1,message:t.message};break;case"minLength":if(h.length<t.value)return{isValid:!1,message:t.message};break;case"maxLength":if(h.length>t.value)return{isValid:!1,message:t.message};break;case"pattern":if(!t.value.test(h))return{isValid:!1,message:t.message};break;case"email":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h))return{isValid:!1,message:t.message};break;case"custom":if(!t.validator(h))return{isValid:!1,message:t.message};break}return{isValid:!0,message:""}},C=h=>{const t=h.target.value;b(t);const{isValid:S,message:D}=w(t);P(D),k(S?t?"success":"default":"error"),p&&p(h)};return e.jsxs("div",{className:"input-wrapper",children:[n&&e.jsxs("label",{htmlFor:`input-${r}`,children:[n,l&&e.jsx("span",{className:"required",children:"*"})]}),e.jsxs("div",{className:"input-container",children:[u&&e.jsx("span",{className:"leading-icon",children:e.jsx("i",{className:`fa-solid fa-${u}`})}),e.jsx("input",{id:`input-${r}`,name:r,type:a,placeholder:o,disabled:i,required:l,value:s,onChange:C,className:`${y} ${c} ${u?"has-leading-icon":""} ${d?"has-trailing-icon":""}`,...v}),d&&e.jsx("span",{className:"trailing-icon",children:e.jsx("i",{className:`fa-solid fa-${d}`})})]}),(N||m)&&e.jsx("div",{className:`helper-text ${y}`,children:N||m})]})},O=({isOpen:n,onClose:l,onCreatePlaylist:r})=>{const[a,o]=x.useState(""),[i,c]=x.useState("Public"),[u,d]=x.useState(!1);if(x.useEffect(()=>{const s=b=>{b.key==="Escape"&&l()};return n&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[n,l]),!n)return null;const m=s=>{s.preventDefault(),a.trim()&&(r(a.trim(),i),o(""),c("Public"),l())},g=s=>{s.target===s.currentTarget&&l()},p=s=>{c(s),d(!1)},j=s=>{switch(s.key){case"ArrowDown":case"ArrowRight":s.preventDefault(),c(i==="Public"?"Private":"Public");break;case"ArrowUp":case"ArrowLeft":s.preventDefault(),c(i==="Private"?"Public":"Private");break;case"Enter":case" ":s.preventDefault(),d(!u);break;case"Escape":s.preventDefault(),d(!1);break}},v=[{value:"Public",label:"Public",icon:"globe"},{value:"Private",label:"Private",icon:"lock"}];return e.jsx("div",{className:"modal-backdrop",onClick:g,children:e.jsx("div",{className:"create-playlist-modal",children:e.jsxs("form",{onSubmit:m,className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("button",{className:"close-button",onClick:l,children:e.jsx(f,{iconName:"Close"})}),e.jsx("h1",{className:"modal-title",children:"New Playlist"})]}),e.jsxs("div",{className:"modal-content-inner",children:[e.jsx("div",{className:"form-group",children:e.jsx(A,{label:"Title",placeholder:"Your Playlist's Name",value:a,onChange:s=>o(s.target.value),required:!0})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Visibility"}),e.jsxs("div",{className:"custom-select",children:[e.jsxs("div",{className:"select-trigger",tabIndex:0,onClick:()=>d(!u),onKeyDown:j,children:[e.jsxs("div",{className:"select-content",children:[e.jsx("span",{className:"select-icon",children:e.jsx(f,{iconName:i==="Public"?"globe":"lock"})}),e.jsx("span",{children:i})]}),e.jsx("span",{className:"chevron",children:e.jsx(f,{iconName:"ChevronDown"})})]}),u&&e.jsx("div",{className:"select-dropdown",children:v.map(s=>e.jsxs("div",{className:`select-option ${s.value===i?"selected":""}`,onClick:()=>p(s.value),children:[e.jsx("span",{className:"option-icon",children:e.jsx(f,{iconName:s.icon})}),e.jsx("span",{children:s.label})]},s.value))})]})]})]}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{type:"button",className:"cancel-button",onClick:l,children:"Cancel"}),e.jsx("button",{type:"submit",className:"create-button",children:"Create"})]})]})})})},R=V(function(){const{playlists:l,createPlaylist:r}=$();E();const[a,o]=x.useState(!1),i=m=>{console.log("Clicked playlist:",m)},c=()=>{o(!0)},u=()=>{o(!1)},d=(m,g)=>{const p={id:Date.now().toString(),title:m,name:m,visibility:g,songs:[],suggestions:[],imageSrc:"",createdAt:new Date().toISOString()};r&&r(p),console.log("Created playlist:",p),o(!1)};return e.jsxs("main",{children:[e.jsx("h1",{children:"Playlists"}),e.jsx("hr",{}),e.jsx(L,{playlists:l,onPlaylistClick:i,onCreatePlaylist:c}),e.jsx(O,{isOpen:a,onClose:u,onCreatePlaylist:d})]})});export{R as default};
