import{v as N,a as i,o as r}from"./chunk-DQRVZFIR-BNfO-z-U.js";var H={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$=N.createContext&&N.createContext(H),A=["attr","size","title"];function G(e,a){if(e==null)return{};var n=K(e,a),t,c;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(c=0;c<l.length;c++)t=l[c],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function K(e,a){if(e==null)return{};var n={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(a.indexOf(t)>=0)continue;n[t]=e[t]}return n}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},C.apply(this,arguments)}function X(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,t)}return n}function D(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?X(Object(n),!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e,a,n){return a=J(a),a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function J(e){var a=Q(e,"string");return typeof a=="symbol"?a:a+""}function Q(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function W(e){return e&&e.map((a,n)=>N.createElement(a.tag,D({key:n},a.attr),W(a.child)))}function E(e){return a=>N.createElement(Y,C({attr:D({},e.attr)},a),W(e.child))}function Y(e){var a=n=>{var{attr:t,size:c,title:l}=e,d=G(e,A),p=c||n.size||"1em",o;return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),N.createElement("svg",C({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,t,d,{className:o,style:D(D({color:e.color||n.color},n.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&N.createElement("title",null,l),e.children)};return $!==void 0?N.createElement($.Consumer,null,n=>a(n)):a(H)}function Z(e){return E({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"},child:[]}]})(e)}function V(e){return E({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"},child:[]}]})(e)}function U(e){return E({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function ee(e){return E({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function te(e){return E({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"},child:[]}]})(e)}function re(e){return E({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function ne(e){return E({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96l160 0 0 32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32l0 32L160 64C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96l-160 0 0-32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-32 160 0c88.4 0 160-71.6 160-160z"},child:[]}]})(e)}const se=({value:e=75,muted:a=!1,disabled:n=!1,volumeStep:t=1,onVolumeChange:c,noSymbol:l=!1})=>{const[d,p]=i.useState(a),[o,L]=i.useState(!1),j=i.useRef(e),g=i.useRef(null),b=()=>{n||(d?(p(!1),c==null||c(j.current)):(j.current=e,p(!0),c==null||c(0)))},O=()=>d||e===0?"volume-mute":e<50?"volume-down":"volume-up",v=w=>{if(n||!g.current)return;const P=g.current.getBoundingClientRect(),y=6,h=y,x=P.width-y,S=(Math.max(h,Math.min(x,w.clientX-P.left))-h)/(x-h)*100,s=Math.round(S/t)*t;p(!1),c==null||c(s)},f=w=>{if(!o||!g.current||n)return;const P=g.current.getBoundingClientRect(),y=6,h=y,x=P.width-y,S=(Math.max(h,Math.min(x,w.clientX-P.left))-h)/(x-h)*100,s=Math.round(S/t)*t;c==null||c(s)},R=()=>{n||L(!0)},M=()=>{L(!1)};i.useEffect(()=>(o?(window.addEventListener("mousemove",f),window.addEventListener("mouseup",M)):(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",M)),()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",M)}),[o]);const z=w=>6+w*88/100;return r.jsxs("div",{className:`volume-control ${n?"disabled":""}`,children:[!l&&r.jsxs(r.Fragment,{children:[r.jsx("i",{className:"fa-solid fa-speaker volume-icon",onClick:b}),r.jsx("i",{className:`fa-solid fa-${O()} volume-icon`,onClick:b})]}),r.jsx("div",{className:"slider",ref:g,onClick:v,children:r.jsxs("svg",{viewBox:"0 0 100 24",children:[r.jsx("line",{className:"track",x1:"2",y1:"12",x2:"98",y2:"12"}),r.jsx("line",{className:"fill",x1:"2",y1:"12",x2:z(e),y2:"12"}),r.jsx("circle",{className:"handle",cx:z(e),cy:"12",r:"6",onMouseDown:R})]})})]})},ce=({details:e,onPrevious:a,onNext:n,onUpdate:t,onSongEnded:c})=>{const l=i.useRef(null),[d,p]=i.useState(0),[o,L]=i.useState(0),[j,g]=i.useState(75),[b,O]=i.useState(!1),[v,f]=i.useState(e.isPlaying||!1),[R,M]=i.useState(!1),[z,w]=i.useState(!1),P=d>0?o/d*100:0,y=s=>{const u=Math.floor(s/60),m=Math.floor(s%60).toString().padStart(2,"0");return`${u}:${m}`},h=s=>{const u=s/100;g(u);const m=l.current;m&&(m.volume=u)},x=()=>{const s=l.current;s&&s.play().catch(u=>{console.error("Error playing audio:",u),f(!1),t==null||t({...e,isPlaying:!1})})};i.useEffect(()=>{f(e.isPlaying||!1)},[e.isPlaying]),i.useEffect(()=>{const s=l.current;if(!s||!e.audioUrl)return;const u=()=>{p(s.duration),O(!1),v&&x()},m=()=>L(s.currentTime),F=()=>{f(!1),t==null||t({...e,isPlaying:!1}),c==null||c()},k=()=>{f(!0),t==null||t({...e,isPlaying:!0})},I=()=>{f(!1),t==null||t({...e,isPlaying:!1})},B=()=>O(!0),_=()=>O(!1);return s.addEventListener("loadeddata",u),s.addEventListener("timeupdate",m),s.addEventListener("ended",F),s.addEventListener("play",k),s.addEventListener("pause",I),s.addEventListener("loadstart",B),s.addEventListener("waiting",B),s.addEventListener("canplay",_),s.src=e.audioUrl,s.load(),j>=0&&j<=100&&(s.volume=j/100),v&&x(),()=>{s.pause(),s.removeEventListener("loadeddata",u),s.removeEventListener("timeupdate",m),s.removeEventListener("ended",F),s.removeEventListener("play",k),s.removeEventListener("pause",I),s.removeEventListener("loadstart",B),s.removeEventListener("waiting",B),s.removeEventListener("canplay",_)}},[e.audioUrl]),i.useEffect(()=>{const s=l.current;s&&(v&&!b?x():v||s.pause())},[v,b]);const T=s=>{const u=l.current;if(!u||d===0)return;const m=s.currentTarget.getBoundingClientRect(),k=(s.clientX-m.left)/m.width*d;u.currentTime=k,L(k)},S=()=>{if(b)return;const s=!v;f(s),t==null||t({...e,isPlaying:s})};return r.jsxs("div",{className:"player-container",children:[r.jsx("audio",{ref:l,hidden:!0}),r.jsxs("div",{className:"player-info",children:[r.jsx("img",{className:"album-art",src:e.imageSrc,alt:`${e.title} album cover`}),r.jsxs("div",{className:"track-info-music-player",children:[r.jsx("h2",{className:"track-title",children:e.title}),r.jsx("p",{className:"track-artist",children:e.artist}),r.jsxs("div",{className:"track-details",children:[r.jsx("span",{children:e.album}),r.jsx("span",{className:"separator",children:"â€¢"}),r.jsx("span",{children:e.year})]})]})]}),r.jsxs("div",{className:"player-controls-section",children:[r.jsxs("div",{className:"progress-container",children:[r.jsx("div",{className:"progress-bar",onClick:T,children:r.jsx("div",{className:"progress-fill",style:{width:`${P}%`}})}),r.jsxs("div",{className:"time-display",children:[r.jsx("span",{children:y(o)}),r.jsx("span",{children:y(d-o)})]})]}),r.jsxs("div",{className:"controls-container",children:[r.jsx("div",{className:"controls-spacer"}),r.jsxs("div",{className:"playback-controls",children:[r.jsx("button",{className:`control-button shuffle-button ${R?"active":""}`,onClick:()=>M(!R),"aria-label":"Shuffle",children:r.jsx(te,{})}),r.jsx("button",{className:"control-button previous-button",onClick:a,"aria-label":"Previous track",children:r.jsx(Z,{})}),r.jsx("button",{className:"control-button play-button",onClick:S,"aria-label":"Play or pause",children:b?r.jsx(re,{className:"spinner"}):v?r.jsx(U,{}):r.jsx(ee,{})}),r.jsx("button",{className:"control-button next-button",onClick:n,"aria-label":"Next track",children:r.jsx(V,{})}),r.jsx("button",{className:`control-button repeat-button ${z?"active":""}`,onClick:()=>w(!z),"aria-label":"Repeat",children:r.jsx(ne,{})})]}),r.jsx("div",{className:"volume-control-container",children:r.jsx(se,{noSymbol:!0,value:j*100,onVolumeChange:h})})]})]})]})};export{U as F,ce as M,ee as a};
